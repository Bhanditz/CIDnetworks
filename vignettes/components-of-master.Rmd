Components of a CIDnetworks Master Class
========================================================

The master class `CIDnetwork` is the vehicle by which we can model social networks according to multiple families of dependence structures. This class can take either Gaussian or binary outcomes.

The class contains its own properties as well as a list of components for each dependence type.

We can initiate a `CIDnetwork` object through the default constructor. For demonstration purposes we will use a single-component network with a `LSM` specification, with a simulated outcome.

```{r}
library(CIDnetworks)
test.CID.g <- CIDnetwork$new(components=list(LSM()), generate=TRUE)
test.CID.g <- CID.generate(components=list(LSM()), generate=TRUE)

test.CID.b <- CIDnetwork$new(components=list(LSM()), generate=TRUE, class.outcome="binary")
test.CID.b <- CID.generate(components=list(LSM()), generate=TRUE, class.outcome="binary")
```

Universal Fields 
----------------

Like the subclasses, the master class has four basic fields, common to its individual network components.

`n.nodes` is the number of nodes in the network.

```{r}
test.CID.g$n.nodes
```

`edge.list` is the `k`-by-`2` matrix of all edges in the network.

```{r}
test.CID.g$edge.list
```

`outcome` is a `k`-length vector of Gaussian outcome measures (treated as residuals by the subclass and transferred from the master class.) These outcomes were generated automatically by the constructor:

```{r}
test.CID.g$outcome
```

`residual.variance` is the variance of the model outcomes in the Gaussian case. In the binary case this is always equal to 1. In the master case with Gaussian outcomes, we also have `residual.variance.ab`, a vector of length 2 with parameter values for the Inverse Gamma prior distribution.

```{r}
test.CID.g$residual.variance
test.CID.g$residual.variance.ab
```



Master Class Specific Fields
----------------------------

As previously displayed, `class.outcome` is either `gaussian` or `binary`. This determines the value held by the intermediate value `int.outcome`, which is identical to the outcome if Gaussian and imputed (mainly during the MCMC) if binary.

```{r}
test.CID.g$int.outcome
```

The grand model has its own `intercept` value, which also has a Gaussian prior:

```{r}
c(test.CID.g$intercept, test.CID.g$intercept.m, test.CID.g$intercept.v)
```

Finally, the purpose of the master class is to hold the individual `components` that comprise the model. There is also a matrix `comp.values` that hold the mean value of each component for every edge.

```{r}
test.CID.g$components
test.CID.g$comp.values
```


Methods
-------

The master class `CIDnetworks` has many of the same methods as the subclasses, and each calls the same method for each subclass:

-`initialize` and `reinitialize`

-`value`

-`show`

-`draw`, `random.start` and `gibbs.full` 


External Samplers
-----------------

We can use this framework to set up a Gibbs sampler for this model using the extra functions `CID.Gibbs.X` for each class. In this case, we need only specify the edge list, outcome and components to fit:

```{r}
gaussian.gibbs <- CID.Gibbs.G (test.CID.g$edge.list, test.CID.g$outcome, components=list(LSM(2)))
gaussian.gibbs
binary.gibbs <- CID.Gibbs.B (test.CID.b$edge.list, test.CID.b$outcome, components=list(LSM(2)))
```


